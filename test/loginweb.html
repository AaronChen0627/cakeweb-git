<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vue 3 Table with Backend</title>

    <!-- 導入Vue3和axios | 開始 -->
    <script src="https://unpkg.com/vue@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <!-- 導入Vue3和axios | 結束 -->
  </head>
  <body>
    <div id="app">
      <!-- 登入 ｜開始 -->
      <form @submit.prevent="handleSubmit">
        <div>
          <label for="Account">帳號:</label>
          <input type="text" id="Account" v-model="form.Account" required />
        </div>
        <div>
          <label for="Password">密碼:</label>
          <input
            type="password"
            id="Password"
            v-model="form.Password"
            required
          />
        </div>
        <button type="submit">Submit</button>
      </form>
      <!-- 登入 ｜結束 -->

      <p v-if="responseMessage">{{ responseMessage }}</p>
    </div>

    <script>
      const app = Vue.createApp({
        // data存放原始數據 |  開始
        data() {
          return {
            form: {
              FirstName: "",
              LastName: "",
              Account: "",
              Password: "",
              Email: "",
              Phone: "",
              Address: "",
            },
            responseMessage: "",
          };
        },
        // data存放原始數據 |  結束

        // methods提交表單 |  開始
        methods: {
          async handleSubmit() {
            try {
              // 发送一个 POST 请求到指定的 API 地址，并将表单数据传递给它
              const response = await axios.post(
                "https://jsonplaceholder.typicode.com/posts", // 这里需要替换成你实际的 API 地址
                this.form
              );

              // 如果请求成功，更新 responseMessage 以显示成功信息
              this.responseMessage = "表单提交成功！";
            } catch (error) {
              // 如果请求出错，打印错误信息并更新 responseMessage 以显示失败信息
              console.error("提交表单时出错：", error);
              this.responseMessage = "提交表单时发生错误。";
            }
          },
        },
        // methods提交表單 |  結束
      });

      app.mount("#app");
    </script>
  </body>
</html>
